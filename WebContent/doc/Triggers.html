
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>restSQL Triggers</title> 
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
	<link href="doc.css" rel="stylesheet" type="text/css"/>
</head> 
<body>

<div id="top">
    <img src="top.png" alt="http://restsql.org" title="http://restsql.org" onclick="window.location ='http://restsql.org'" onmouseover="this.style.cursor='pointer'"/>
</div>

<div id="nav">
    <div class="nav-topitem"><a class="nav-link" href="Overview.html">Overview</a></div>
    <div class="nav-topitem"><a class="nav-link" href="Architecture.html">Architecture</a></div>
    <div class="nav-topitem"><a class="nav-link" href="Concepts.html">Concepts</a></div>
    <div class="nav-topitem"><a class="nav-link" href="Service.html">Browse Service</a></div>
    <div class="nav-category">HTTP API
        <div class="nav-item"><a class="nav-link" href="ref/index.html">Reference</a></div>
        <div class="nav-item"><a class="nav-link" href="ref/ResHttpStatus.html">Status Codes</a></div>
        <div class="nav-item"><a class="nav-link" href="ApiExplorer.html">Explorer</a></div>
    </div>
    <div class="nav-category">Java API
        <div class="nav-item"><a class="nav-link" href="../examples/java">Examples</a></div>
        <div class="nav-item"><a class="nav-link" href="../javadoc/api/index.html">Javadoc - API</a></div>
        <div class="nav-item"><a class="nav-link" href="../javadoc/full/index.html">Javadoc - Full</a></div>
    </div>
    <div class="nav-category">Configuration
        <div class="nav-item"><a class="nav-link" href="Deployment.html">Deployment</a></div>
        <div class="nav-item"><a class="nav-link" href="../defaults/">Default Conf</a></div>
        <div class="nav-item"><a class="nav-link" href="../examples/">Example Conf</a></div>
        <div class="nav-item"><a class="nav-link" href="Logging.html">Logging</a></div>
        <div class="nav-item"><a class="nav-link" href="Monitoring.html">Monitoring</a></div>
        <div class="nav-item"><a class="nav-link" href="Security.html">Security</a></div>
        <div class="nav-item"><a class="nav-link" href="Triggers.html">Triggers</a></div>
    </div>
    <div class="nav-topitem"><a class="nav-link" href="Roadmap.html">Roadmap</a></div>
    <div class="nav-topitem"><a class="nav-link" href="Support.html">Support</a></div>
    <div class="nav-topitem"><a class="nav-link" href="License.html">License</a></div>
    <div class="nav-topitem"><a class="nav-link" href="sponsors/Sponsors.html">Sponsors</a></div>
    <div class="nav-topitem"><a class="nav-link" href="ReleaseHistory.html">Release History</a></div>
    <div class="nav-topitem"><a class="nav-link" href="Download.html">Download</a></div>
</div>


<div id="content"> 
<h1>Triggers</h1>
<div class="text">Java-based triggers may be deployed to enforce domain constraints in the middle-tier or perform business logic. These triggers implement the <code>Trigger</code> interface or extend the convenience class <code>AbstractTrigger</code>. Triggers have methods that fire before and after each CRUD operation. Throwing an <code>InvalidRequestException</code> on a beforeXxx method stops the request.</div>
<p class="text">The restsql.properties defines the trigger classpath and the location of the trigger properties file that maps trigger classes to SQL Resources. Following is an example:</p>
<pre>
   # triggers.classpath=/absolute/path
   # triggers.definition=/absolute/path
   triggers.classpath=/opt/business/restsql/triggers
   triggers.definition=/etc/opt/business/restsql/triggers.properties
</pre>
<div class="text">The triggers properties file contains one or more properties in the format:</div>
<pre>
   class=resName1,resName2,resName3,etc.
</pre>
<div class="text">Use the wildcard character <code>*</code> to indicate all SQL Resources. Following is an example of three trigger definitions:</div>
<pre>
   com.company.restsql.trigger.AllFilterTrigger=*
   com.company.restsql.trigger.EmployeeTrigger=Employee
   com.company.restsql.trigger.ProjectTrigger=Project,ProjectManagement,ProjectDelta
</pre>
<p class="text">Note that attribute validators are a lighter-weight alternative to triggers to enforce simple data type constraints. Standard validators enforce numeric ranges, string lengths and string formats (via regular expression). These are declared in the SQL Resource definition. Standard and custom attribute validators are a planned feature and not available yet. See the <a href="Concepts.html">Core Concepts</a> for more discussion.</p>
</div>
</body>
</html>