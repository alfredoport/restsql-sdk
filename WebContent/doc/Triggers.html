<!DOCTYPE HTML>

<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>restSQL Triggers</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/png" href="assets/favicon.ico" />
<link rel="stylesheet" href="assets/bootstrap.min.css">
<link rel="stylesheet" href="assets/site.css">
<script src="assets/site.js"></script>
</head>
<body>
	<nav class="navbar navbar-default navbar-inverse navbar-fixed-top" role="navigation">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
				<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="Overview.html">restSQL</a>
		</div>
		<div class="collapse navbar-collapse navbar-ex1-collapse" id="navbar">
			<ul class="nav navbar-nav">
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">About<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="Overview.html">Overview</a></li>
						<li><a href="Architecture.html">Architecture</a></li>
						<li><a href="Concepts.html">Concepts</a></li>
						<li><a href="AdminConsole.html">Admin Console</a></li>
					</ul></li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">API<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a href="api/index.html">HTTP API Reference</a></li>
						<li><a href="api/ResHttpStatus.html">HTTP API Status Codes</a></li>
						<li><a href="ApiExplorer.html">HTTP API Explorer</a></li>
						<li class="divider"></li>
						<li><a href="../javadoc/api/index.html">Java API Javadoc</a></li>
						<li><a href="../examples/java">Java API Examples</a></li>
						<li><a href="../javadoc/full/index.html">Full Javadoc</a></li>
					</ul></li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Config<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a class="nav-link" href="Deployment.html">Deployment</a></li>
						<li><a class="nav-link" href="../defaults/">Default Config</a></li>
						<li><a class="nav-link" href="../examples/">Example Config</a></li>
						<li><a class="nav-link" href="Logging.html">Logging</a></li>
						<li><a class="nav-link" href="Monitoring.html">Monitoring</a></li>
						<li><a class="nav-link" href="Security.html">Security</a></li>
						<li><a href="Triggers.html">Triggers</a></li>
					</ul></li>
				<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Project<b class="caret"></b></a>
					<ul class="dropdown-menu">
						<li><a class="nav-link" href="Roadmap.html">Roadmap</a></li>
						<li><a class="nav-link" href="Support.html">Support</a></li>
						<li><a class="nav-link" href="License.html">License</a></li>
						<li><a href="sponsors/Sponsors.html">Sponsors</a></li>
						<li><a href="ReleaseHistory.html">Release History</a></li>
					</ul></li>

				<li><a href="Download.html">Download</a></li>
			</ul>
			<form id="searchform" class="navbar-form navbar-right" role="search" onsubmit="return search()">
				<div id="searchicon">
					<a onclick="toggleSearchBlock()"><img class="searchIconImg" src="assets/search_icon.png"></a>
				</div>
				<div id="searchblock" class="hidden input-group input-group-sm">
					<input id="searchtext" type="text" class="form-control searchfor" placeholder="Search for..." oninput="enableSearch()"> <span class="input-group-btn">
						<button id="searchbutton" class="btn btn-default disabled" type="submit">
							<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
						</button>
					</span>
				</div>
			</form>
		</div>
	</nav>

	<div class="container">

		<div class="page-header">
			<h1>Triggers</h1>
		</div>

		<div class="text">
			Java-based triggers may be deployed to enforce domain constraints in the middle-tier or perform business logic. These triggers implement the
			<code>Trigger</code>
			interface or extend the convenience class
			<code>AbstractTrigger</code>
			. Triggers have methods that fire before and after each CRUD operation. Throwing an
			<code>InvalidRequestException</code>
			on a beforeXxx method stops the request.
		</div>
		<p class="text">The restsql.properties defines the trigger classpath and the location of the trigger properties file that maps trigger classes to SQL Resources. Following is an example:</p>
		<pre>
   # triggers.classpath=/absolute/path
   # triggers.definition=/absolute/path
   triggers.classpath=/opt/business/restsql/triggers
   triggers.definition=/etc/opt/business/restsql/triggers.properties
</pre>
		<div class="text">The triggers properties file contains one or more properties in the format:</div>
		<pre>
   class=resName1,resName2,resName3,etc.
</pre>
		<div class="text">
			Use the wildcard character
			<code>*</code>
			to indicate all SQL Resources. Following is an example of three trigger definitions:
		</div>
		<pre>
   com.company.restsql.trigger.AllFilterTrigger=*
   com.company.restsql.trigger.EmployeeTrigger=Employee
   com.company.restsql.trigger.ProjectTrigger=Project,ProjectManagement,ProjectDelta
</pre>
		<p class="text">
			Note that attribute validators are a lighter-weight alternative to triggers to enforce simple data type constraints. Standard validators enforce numeric ranges, string lengths and string formats (via regular expression). These are declared in the SQL Resource definition. Standard and custom attribute validators are a planned feature and not available yet. See the <a href="Concepts.html">Core Concepts</a> for more discussion.
		</p>

	</div>

	<script src="assets/jquery.min.js"></script>
	<script src="assets/bootstrap.min.js"></script>
</body>
</html>